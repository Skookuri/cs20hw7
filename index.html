<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <!--<script type="text/javascript" src="songlist.json"></script>-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <title>CS 20 HW 7</title>
  <style>
  	table, td {
  		border: 1px solid black;
	}
  </style>
</head>
<body>
  <select>
    <option value="selectgenre">--SELECT GENRE--</option>
    <option value="hello">hello</option>
  	<option value="world">world</option>
  	<option value="lorem">lorem</option>
  	<option value="ipsum">ipsum</option>
  	<option value="lorem ipsum">lorem ipsum</option>
  </select>
  <br>
  <button>FILTER</button>
  <br>
  <br>
  <table id="mytable">
  	<th id="songtitle">Title</th>
    <th id="songartist">Artist</th>
    <th id="songgenre">Genre</th>
    <th id="songyear">Year</th>
  </table>
  
  <script>
    $.getJSON("https://skookuri.github.io/cs20hw7/songlist.json", function(data) {
     
      var arr = data.CATALOG.SONG;
      arr.forEach(function(list) {
      	var newrow = document.getElementById("mytable").insertRow(-1);
        newrow.innerHTML = "";
        
        var titlecell = newrow.insertCell(0);
        titlecell.innerHTML = list.TITLE;
  
        var artistcell = newrow.insertCell(1);
        artistcell.innerHTML = list.ARTIST;
  
        var genrecell = newrow.insertCell(2);
        var genretable = document.createElement('table');
        genrecell.appendChild(genretable);
        
        var arrgenre = list.GENRE;
        
        arrgenre.forEach(function(genrelist) {
        	var genrerow = genretable.insertRow(-1);
            //genrerow.innerHTML = genrelist;
            genrerow.innerHTML = "";
            //genrerow.innerHTML = genrelist;
            
            var genresubcell = genrerow.insertCell(0);
            genresubcell.innerHTML = genrelist;
        });
  
        var yearcell = newrow.insertCell(3);
        yearcell.innerHTML = list.YEAR;
      });
      
      
      $(document).ready(function(){
      	$("select").change(function() {
        	$("button").click(function(){
            	alert("hi");
            });
        });
      });
    });
  </script>
</body>
</html>
